var WeUI=function(e,t){"use strict";function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){}function o(){}function s(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var n=void 0===a?"undefined":g(a);if("string"===n||"number"===n)e.push(a);else if(Array.isArray(a))e.push(s.apply(null,a));else if("object"===n)for(var r in a)k.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}function l(e,t,a){if("function"!=typeof global.it){var n=e+"\n"+t;if(!S[n]){var r="[React-WeUI] "+e+" is deprecated. Use "+t+" instead. "+e+" will be remove in the next major version.";a&&(r+="\nYou can read more about it at \n"+a),P(!1,r),S[n]=!0}}}var c="default"in e?e.default:e;t="default"in t?t.default:t;var u=n(function(e,t){function a(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case s:case c:case l:case f:return e;default:switch(e=e&&e.$$typeof){case p:case m:case u:return e;default:return t}}case g:case v:case o:return t}}}function n(e){return a(e)===d}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,p=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;t.typeOf=a,t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=p,t.ContextProvider=u,t.Element=i,t.ForwardRef=m,t.Fragment=s,t.Lazy=g,t.Memo=v,t.Portal=o,t.Profiler=c,t.StrictMode=l,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===d||e===c||e===l||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===p||e.$$typeof===m)},t.isAsyncMode=function(e){return n(e)||a(e)===h},t.isConcurrentMode=n,t.isContextConsumer=function(e){return a(e)===p},t.isContextProvider=function(e){return a(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return a(e)===m},t.isFragment=function(e){return a(e)===s},t.isLazy=function(e){return a(e)===g},t.isMemo=function(e){return a(e)===v},t.isPortal=function(e){return a(e)===o},t.isProfiler=function(e){return a(e)===c},t.isStrictMode=function(e){return a(e)===l},t.isSuspense=function(e){return a(e)===f}});a(u),a(n(function(e,t){}));var p=(n(function(e){e.exports=u}),Object.getOwnPropertySymbols),h=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,m=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()&&Object.assign,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");Function.call.bind(Object.prototype.hasOwnProperty);o.resetWarningCache=i;var f=function(){function e(e,t,a,n,r,i){if(i!==m){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return a.PropTypes=a,a},v=n(function(e){e.exports=f()}),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},E=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a},C=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},k={}.hasOwnProperty,T=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.type,n=e.size,r=e.plain,i=e.className,o=e.children,l=E(e,["component","type","size","plain","className","children"]),u=t||(this.props.href||"vcode"===a?"a":"button"),p="vcode"===a?s("weui-vcode-btn",b({},i,i)):s(b({"weui-btn":!0,"weui-btn_mini":"small"===n,"weui-btn_primary":"primary"===a&&!r,"weui-btn_default":"default"===a&&!r,"weui-btn_warn":"warn"===a,"weui-btn_plain-primary":"primary"===a&&r,"weui-btn_plain-default":"default"===a&&r,"weui-btn_disabled":this.props.disabled&&!r,"weui-btn_plain-disabled":this.props.disabled&&r},i,i));return c.createElement(u,w({},l,{className:p}),o)}}]),t}(c.Component);T.propTypes={disabled:v.bool,type:v.string,size:v.string},T.defaultProps={disabled:!1,type:"primary",size:"normal"};var x=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.direction,a=e.children,n=e.className,r=s(b({"weui-btn-area":!0,"weui-btn-area_inline":"horizontal"===t},n,n));return c.createElement("div",{className:r},a)}}]),t}(e.Component);x.propTypes={direction:v.string},x.defaultProps={direction:"vertical"};var O=function(e){var t=e.className,a=e.primary,n=e.children,r=E(e,["className","primary","children"]),i=s(b({"weui-form-preview__btn":!0,"weui-form-preview__btn_default":!a,"weui-form-preview__btn_primary":a},t,t));return c.createElement("a",w({className:i},r),n)};O.propTypes={primary:v.bool},O.defaultProps={primary:!1};var P=function(){},S={},I=function(e){var t=e.children,a=e.className,n=e.access,r=E(e,["children","className","access"]);n&&l("Cells Access","Cell Access","https://github.com/weui/weui/wiki/%E5%9C%A81.0.0%E5%9C%A8%E4%BB%A3%E7%A0%81%E5%B1%82%E9%9D%A2%E4%B8%8A%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E6%94%B9%E5%8F%98#%E5%B8%A6%E7%AE%AD%E5%A4%B4%E7%9A%84%E5%88%97%E8%A1%A8%E7%94%B1%E4%B9%8B%E5%89%8D%E7%9A%84weui_cells_access%E6%94%B9%E4%B8%BA%E5%8D%95%E7%8B%AC%E6%8E%A7%E5%88%B6%E7%9A%84weui-cell_access");var i=s(b({"weui-cells":!0},a,a));return c.createElement("div",w({className:i},r),t)};I.propTypes={},I.defaultProps={};var j=function(e){var t=e.className,a=e.children,n=e.access,r=e.href,i=e.link,o=e.component,l=e.htmlFor,u=E(e,["className","children","access","href","link","component","htmlFor"]),p=r?"a":l?"label":"div",h=o||p,d=s(b({"weui-cell":!0,"weui-cell_access":n,"weui-cell_link":i},t,t));return c.createElement(h,w({className:d,href:r,htmlFor:l},u),a)};j.propTypes={access:v.bool,link:v.bool,component:v.func},j.defaultProps={access:!1,link:!1};var M=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-cells__title":!0},t,t));return c.createElement("div",w({className:r},n),a)},B=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-cells__tips":!0},t,t));return c.createElement("div",w({className:r},n),a)},A=function(e){var t=e.className,a=e.children,n=e.primary,r=E(e,["className","children","primary"]),i=s(b({"weui-cell__hd":!0,"weui-cell_primary":n},t,t));return c.createElement("div",w({className:i},r),a)};A.propTypes={primary:v.bool},A.defaultProps={primary:!1};var H=function(e){var t=e.className,a=e.children,n=e.primary,r=E(e,["className","children","primary"]),i=s(b({"weui-cell__bd":!0,"weui-cell_primary":n},t,t));return c.createElement("div",w({className:i},r),a)};H.propTypes={primary:v.bool},H.defaultProps={primary:!1};var D=function(e){var t=e.className,a=e.children,n=e.primary,r=E(e,["className","children","primary"]),i=s(b({"weui-cell__ft":!0,"weui-cell_primary":n},t,t));return c.createElement("div",w({className:i},r),a)};D.propTypes={primary:v.bool},D.defaultProps={primary:!1};var R=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.transparent,a=e.className,n=E(e,["transparent","className"]),r=s({"weui-mask":!t,"weui-mask_transparent":t},a);return c.createElement("div",w({className:r},n))}}]),t}(c.Component);R.propTypes={transparent:v.bool},R.defaultProps={transparent:!1};var L=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.radio,r=e.checkbox,i=E(e,["children","className","radio","checkbox"]),o=s(b({"weui-cells":!0,"weui-cells_form":!n&&!r,"weui-cells_radio":n,"weui-cells_checkbox":r},a,a));return c.createElement("div",w({className:o},i),t)}}]),t}(e.Component);L.propTypes={radio:v.bool,checkbox:v.bool},L.defaultProps={radio:!1,checkbox:!1};var V=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=e.radio,r=e.checkbox,i=e.vcode,o=e.warn,l=e.select,u=e.selectPos,p=E(e,["className","children","radio","checkbox","vcode","warn","select","selectPos"]),h=Object.assign({},p);delete h.switch;var d=s(b({"weui-cell":!0,"weui-cell_vcode":i,"weui-cell_warn":o,"weui-cell_switch":this.props.switch,"weui-cell_select":l,"weui-cell_select-before":"before"===u,"weui-cell_select-after":"after"===u,"weui-check__label":n||r},t,t));return n||r?c.createElement("label",w({className:d},h),a):c.createElement("div",w({className:d},h),a)}}]),t}(e.Component);V.propTypes={vcode:v.bool,warn:v.bool,radio:v.bool,checkbox:v.bool,switch:v.bool,select:v.bool,selectPos:v.string},V.defaultProps={vcode:!1,warn:!1,radio:!1,checkbox:!1,select:!1,switch:!1,selectPos:void 0};var F=function(e){function t(){var e,a,n,r;y(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return a=n=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={textCounter:n.props.defaultValue?n.props.defaultValue.length:0},r=a,C(n,r)}return N(t,e),_(t,[{key:"handleChange",value:function(e){this.setState({textCounter:e.target.value.length}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=e.showCounter,r=e.maxLength,i=(e.onChange,E(e,["className","children","showCounter","maxLength","onChange"])),o=s(b({"weui-textarea":!0},t,t));return c.createElement("div",null,c.createElement("textarea",w({className:o,maxLength:r,onChange:this.handleChange.bind(this)},i),a),!!n&&c.createElement("div",{className:"weui-textarea-counter"},c.createElement("span",null,this.state.textCounter),!!r&&"/"+r))}}]),t}(e.Component);F.propTypes={showCounter:v.bool,maxLength:v.number,defaultValue:v.string},F.defaultProps={showCounter:!0,defaultValue:void 0};var z=function(e){var t=e.className,a=E(e,["className"]),n=s(b({"weui-input":!0},t,t));return c.createElement("div",null,c.createElement("input",w({className:n},a)),c.createElement("span",{className:"weui-icon-checked"}))};z.propTypes={defaultValue:v.string},z.defaultProps={defaultValue:void 0};var W=function(e){var t=e.className,a=E(e,["className"]),n=s(b({"weui-switch":!0},t,t));return c.createElement("div",null,c.createElement("input",w({className:n,type:"checkbox"},a)),c.createElement("span",{className:"weui-icon-checked"}))},G=function(e){var t=e.className,a=E(e,["className"]),n=s(b({"weui-check":!0},t,t));return c.createElement("div",null,c.createElement("input",w({className:n,type:"radio"},a)),c.createElement("span",{className:"weui-icon-checked"}))},Y=function(e){var t=e.className,a=E(e,["className"]),n=s(b({"weui-check":!0},t,t));return c.createElement("div",null,c.createElement("input",w({className:n,type:"checkbox"},a)),c.createElement("span",{className:"weui-icon-checked"}))},$=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"renderData",value:function(e){return e.map(function(e,t){return c.createElement("option",w({key:t,value:e.value},e),e.label)})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.data,n=e.children,r=E(e,["className","data","children"]),i=s(b({"weui-select":!0},t,t));return c.createElement("select",w({className:i},r),a.length>0?this.renderData(a):n)}}]),t}(e.Component);$.propTypes={data:v.array},$.defaultProps={data:[]};var q={safe_success:"safe-success",safe_warn:"safe-warn",success_circle:"success-circle",success_no_circle:"success-no-circle",waiting_circle:"waiting-circle",info_circle:"info-circle"},U=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e,t=this.props,a=t.value,n=t.size,r=t.className,i=t.primary,o=E(t,["value","size","className","primary"]);-1!==Object.keys(q).indexOf(a)&&l("Icon "+a,"Icon "+q[a]);var u=s((e={},b(e,"weui-icon-"+a,"loading"!==a),b(e,"weui-icon_msg","large"===n&&!i),b(e,"weui-icon_msg-primary","large"===n&&i),b(e,"weui-loading","loading"===a),b(e,r,r),e));return c.createElement("i",w({},o,{className:u}))}}]),t}(c.Component);U.propTypes={value:v.string,size:v.string},U.defaultProps={value:"success",size:"small"};var X=function(e){function a(){return y(this,a),C(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return N(a,e),_(a,[{key:"detectVerticalSquash",value:function(e){var t=void 0,a=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=a;var r=n.getContext("2d");r.drawImage(e,0,0);try{t=r.getImageData(0,0,1,a).data}catch(e){return console.log("Cannot check verticalSquash: CORS?"),1}for(var i=0,o=a,s=a;s>i;){0===t[4*(s-1)+3]?o=s:i=s,s=o+i>>1}var l=s/a;return 0===l?1:l}},{key:"handleFile",value:function(e,t){var a=this,n=arguments,r=void 0;"undefined"!=typeof FileReader?r=new FileReader:window.FileReader&&(r=new window.FileReader),r.onload=function(r){var i=void 0;"undefined"!=typeof Image?i=new Image:window.Image&&(i=new window.Image),i.onload=function(){var o=Math.min(a.props.maxWidth,i.width),s=i.height*(o/i.width),l=document.createElement("canvas"),c=l.getContext("2d");if(c){var u=c.drawImage;c.drawImage=function(e,t,r,i,o,s,l,p,h){var d=1;e&&"IMG"===e.nodeName&&(d=a.detectVerticalSquash(e),void 0===i&&(i=e.naturalWidth),void 0===o&&(o=e.naturalHeight)),9===n.length?u.call(c,e,t,r,i,o,s,l,p,h/d):void 0!==i?u.call(c,e,t,r,i,o/d):u.call(c,e,t,r)},l.width=o,l.height=s,c.drawImage(i,0,0,o,s);var p=l.toDataURL("image/png");t({nativeFile:e,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,data:p},r)}else t(e,r)},i.src=r.target.result},r.readAsDataURL(e)}},{key:"handleChange",value:function(e){var a=this,n=this.props.lang,r=e.target.files;if(0!==r.length){if(this.props.files.length>=this.props.maxCount)return void this.props.onError(n.maxError(this.props.maxCount));for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];this.handleFile(o,function(e,n){a.props.onChange&&a.props.onChange(e,n),t.findDOMNode(a.refs.uploader).value=""},e)}}}},{key:"renderFiles",value:function(){var e=this;return this.props.files.map(function(t,a){var n=t.url,r=t.error,i=t.status,o=t.onClick,u=E(t,["url","error","status","onClick"]),p={backgroundImage:"url("+n+")"},h=s({"weui-uploader__file":!0,"weui-uploader__file_status":r||i});o&&l("File onClick","Uploader onFileClick");var d=o||function(n){e.props.onFileClick&&e.props.onFileClick(n,t,a)};return c.createElement("li",w({className:h,key:a,style:p,onClick:d},u),!(!r&&!i)&&c.createElement("div",{className:"weui-uploader__file-content"},r?c.createElement(U,{value:"warn"}):i))})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.title,n=e.maxCount,r=e.files,i=(e.onChange,e.onFileClick,E(e,["className","title","maxCount","files","onChange","onFileClick"])),o=Object.assign({},i);delete o.lang,delete o.onError,delete o.maxWidth;var l=s(b({"weui-uploader":!0},t,t));return c.createElement("div",{className:l},c.createElement("div",{className:"weui-uploader__hd"},c.createElement("p",{className:"weui-uploader__title"},a),c.createElement("div",{className:"weui-uploader__info"},r.length,"/",n)),c.createElement("div",{className:"weui-uploader__bd"},c.createElement("ul",{className:"weui-uploader__files"},this.renderFiles()),c.createElement("div",{className:"weui-uploader__input-box"},c.createElement("input",w({ref:"uploader",className:"weui-uploader__input",type:"file",accept:"image/*",capture:"camera",onChange:this.handleChange.bind(this)},o)))))}}]),a}(e.Component);X.propTypes={title:v.string,maxCount:v.number,maxWidth:v.number,onChange:v.func,onError:v.func,files:v.array,lang:v.object},X.defaultProps={title:"图片上传",maxCount:4,maxWidth:500,files:[],onChange:void 0,onError:void 0,lang:{maxError:function(e){return"最多只能上传"+e+"张图片"}}};var K=function(e){var t=e.className,a=E(e,["className"]),n=s(b({"weui-vcode-img":!0},t,t));return c.createElement("div",null,c.createElement("img",w({className:n},a)))},J=function(e){var t=e.className,a=e.children,n=e.id,r=E(e,["className","children","id"]),i=s(b({"weui-agree":!0},t,t));return c.createElement("label",{className:i,htmlFor:n},c.createElement("input",w({id:n,type:"checkbox",className:"weui-agree__checkbox"},r)),c.createElement("span",{className:"weui-agree__text"},a))},Q=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-form-preview":!0},t,t));return c.createElement("div",w({className:r},n),a)},Z=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-form-preview__hd":!0},t,t));return c.createElement("div",w({className:r},n),a)},ee=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-form-preview__bd":!0},t,t));return c.createElement("div",w({className:r},n),a)},te=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-form-preview__ft":!0},t,t));return c.createElement("div",w({className:r},n),a)},ae=function(e){var t=e.className,a=e.label,n=e.value,r=E(e,["className","label","value"]),i=s(b({"weui-form-preview__item":!0},t,t));return c.createElement("div",w({className:i},r),c.createElement("label",{className:"weui-form-preview__label"},a),c.createElement("em",{className:"weui-form-preview__value"},n))};ae.propTypes={label:v.string,value:v.string},ae.defaultProps={label:!1,value:!1};var ne=function(e){function a(e){y(this,a);var t=C(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={value:t.props.value?t.props.value:t.props.defaultValue?t.props.defaultValue:0,controlled:void 0!==t.props.value,totalWidth:0,touching:!1,ogX:0,touchID:void 0,percent:t.props.value?parseInt(t.props.value/(t.props.max-t.props.min)*100):t.props.defaultValue?parseInt(t.props.defaultValue/(t.props.max-t.props.min)*100):0,animating:!1},t.handleTouchStart=t.handleTouchStart.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.handleTouchEnd=t.handleTouchEnd.bind(t),t.updateValue=t.updateValue.bind(t),t}return N(a,e),_(a,[{key:"componentDidMount",value:function(){0===this.state.value&&this.updateValue()}},{key:"componentWillReceiveProps",value:function(e){if(this.state.controlled&&e.value<=this.props.max&&e.value>=this.props.min){var t=parseInt(e.value/(this.props.max-this.props.min)*100);this.setState({value:e.value,percent:t})}}},{key:"updateValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=0,n=this.state.percent,r=this.props,i=r.min,o=r.max,s=r.step,l=r.onChange,c=parseInt((o-i)/s),u=parseInt(100/c);if(100===n)a=o;else if(0===n)a=i;else for(var p=0;p<c;p++)n>p*u&&n<=(p+1)*u&&(a=n-p*u>u/2?(p+1)*s+i:p*s+i);a!==this.state.value&&(this.setState({value:a}),l&&l(a)),t&&this.setState({percent:a===i?0:a===o?100:(a-i)/s*u,animating:!0},function(){return e.setState({animating:!1})})}},{key:"handleTouchStart",value:function(e){if(!this.state.touching&&!this.props.disabled){var a=t.findDOMNode(this.refs.bar);this.setState({touching:!0,touchId:e.targetTouches[0].identifier,totalWidth:a.clientWidth,ogX:e.targetTouches[0].pageX,ogPercent:this.state.percent})}}},{key:"handleTouchMove",value:function(e){var t=this;if(this.state.touching&&!this.props.disabled&&e.targetTouches[0].identifier===this.state.touchId){e.preventDefault();var a=e.targetTouches[0].pageX,n=a-this.state.ogX,r=parseInt(n/this.state.totalWidth*100)+this.state.ogPercent;r=r<0?0:r>100?100:r,this.setState({percent:r},function(){return t.updateValue()})}}},{key:"handleTouchEnd",value:function(e){this.state.touching&&!this.props.disabled&&(this.props.snapToValue&&this.updateValue(!0),this.setState({touching:!1,ogX:0,touchId:void 0,ogPercent:0}))}},{key:"render",value:function(){var e=this.props,t=e.className,a=(e.max,e.min,e.step,e.showValue),n=(e.value,e.disabled,e.defaultValue,e.onChange,e.snapToValue,E(e,["className","max","min","step","showValue","value","disabled","defaultValue","onChange","snapToValue"])),r=s("weui-slider-box",t),i={width:this.state.percent+"%"},o={left:this.state.percent+"%",transition:this.state.animating?"transform .3s":"none"};return c.createElement("div",{className:r},c.createElement("div",w({className:"weui-slider"},n),c.createElement("div",{className:"weui-slider__inner",ref:"bar"},c.createElement("div",{style:i,className:"weui-slider__track"}),c.createElement("div",{style:o,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,className:"weui-slider__handler"}))),!!a&&c.createElement("div",{className:"weui-slider-box__value"},this.state.value))}}]),a}(e.Component);ne.propTypes={max:v.number,min:v.number,step:v.number,showValue:v.bool,disabled:v.bool,value:v.number,defaultValue:v.number,onChange:v.func,snapToValue:v.bool},ne.defaultProps={max:100,min:0,step:1,showValue:!0,disabled:!1,defaultValue:0,snapToValue:!0};var re=function(e){var t=e.className,a=E(e,["className"]),n=s(b({"weui-label":!0},t,t));return c.createElement("div",null,c.createElement("label",w({className:n},a)))},ie=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.icon,n=e.show,r=e.children,i=e.iconSize,o=E(e,["className","icon","show","children","iconSize"]),l=s("weui-toast",b({},t,t));return c.createElement("div",{style:{display:n?"block":"none"}},c.createElement(R,{transparent:!0}),c.createElement("div",w({className:l},o),c.createElement(U,{value:a,size:i,className:"weui-icon_toast"}),c.createElement("p",{className:"weui-toast_content"},r)))}}]),t}(e.Component);ie.propTypes={icon:v.string,iconSize:v.string,show:v.bool},ie.defaultProps={icon:"toast",show:!1};var oe=function(e){var t=e.className,a=e.showCancel,n=e.value,r=e.onClick,i=E(e,["className","showCancel","value","onClick"]),o=s(b({"weui-progress":!0},t,t)),l=n>100?100:n<0?0:n;return c.createElement("div",w({className:o},i),c.createElement("div",{className:"weui-progress__bar"},c.createElement("div",{className:"weui-progress__inner-bar",style:{width:l+"%"}})),!!a&&c.createElement("a",{href:"javascript:;",className:"weui-progress__opr",onClick:function(e){r&&r(e)}},c.createElement(U,{value:"cancel"})))};oe.propTypes={value:v.number,showCancel:v.bool},oe.defaultProps={value:0,showCancel:!0};var se=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleMaskClick=a.handleMaskClick.bind(a),a}return N(t,e),_(t,[{key:"renderMenuItem",value:function(){return this.props.menus.map(function(e,t){var a=e.label,n=e.className,r=E(e,["label","className"]),i=s(b({"weui-actionsheet__cell":!0},n,n));return c.createElement("div",w({key:t},r,{className:i}),a)})}},{key:"renderActions",value:function(){return this.props.actions.map(function(e,t){var a=e.label,n=e.className,r=E(e,["label","className"]),i=s(b({"weui-actionsheet__cell":!0},n,n));return c.createElement("div",w({key:t},r,{className:i}),a)})}},{key:"handleMaskClick",value:function(e){this.props.onRequestClose&&this.props.onRequestClose(e)}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.type,n=(e.onRequestClose,e.menus,e.actions,E(e,["show","type","onRequestClose","menus","actions"])),r=s({"weui-actionsheet":!0,"weui-actionsheet_toggle":t}),i=a||"ios";return c.createElement("div",{className:"android"===i?"weui-skin_android":""},c.createElement(R,{style:{display:t?"block":"none"},onClick:this.handleMaskClick}),c.createElement("div",w({className:r},n),c.createElement("div",{className:"weui-actionsheet__menu"},this.renderMenuItem()),c.createElement("div",{className:"weui-actionsheet__action"},this.renderActions())))}}]),t}(e.Component);se.propTypes={menus:v.array,actions:v.array,show:v.bool,onRequestClose:v.func,type:v.string},se.defaultProps={type:"",menus:[],actions:[],show:!1};var le=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={isAndroid:""},a}return N(t,e),_(t,[{key:"renderButtons",value:function(){return this.props.buttons.map(function(e,t){var a=e.type,n=e.label,r=e.onClick,i=E(e,["type","label","onClick"]),o=s({"weui-dialog__btn":!0,"weui-dialog__btn_default":"default"===a,"weui-dialog__btn_primary":"primary"===a});return c.createElement("a",w({key:t,href:"#",onClick:function(e){return e&&e.preventDefault(),r&&"function"==typeof r&&r(e),!1}},i,{className:o}),n)})}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.show,n=e.className,r=e.children,i=(e.buttons,e.type),o=(e.autoDectect,E(e,["title","show","className","children","buttons","type","autoDectect"])),l=i||"ios",u=s("weui-dialog",b({"weui-skin_android":"android"===l},n,n));return c.createElement("div",{style:{display:a?"block":"none"}},c.createElement(R,null),c.createElement("div",w({className:u},o),!!t&&c.createElement("div",{className:"weui-dialog__hd"},c.createElement("strong",{className:"weui-dialog__title"},t)),c.createElement("div",{className:"weui-dialog__bd"},r),c.createElement("div",{className:"weui-dialog__ft"},this.renderButtons())))}}]),t}(e.Component);le.propTypes={buttons:v.array,show:v.bool,title:v.string,type:v.string},le.defaultProps={buttons:[],show:!1,title:"",type:""};var ce=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-footer":!0},t,t));return c.createElement("div",w({className:r},n),a)},ue=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-footer__text":!0},t,t));return c.createElement("p",w({className:r},n),a)},pe=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-footer__links":!0},t,t));return c.createElement("p",w({className:r},n),a)},he=function(e){var t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-footer__link":!0},t,t));return c.createElement("a",w({className:r},n),a)},de=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"_renderButtons",value:function(){return this.props.buttons.map(function(e,t){var a=e.type,n=e.label,r=E(e,["type","label"]);return c.createElement(T,w({key:t},r,{type:a}),n)})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.type,r=e.title,i=e.description,o=e.extraHref,u=e.extraText,p=e.footer,h=(e.buttons,E(e,["children","className","type","title","description","extraHref","extraText","footer","buttons"])),d=s("weui-msg",b({},a,a)),m=p||function(){return!1};return m()||!o&&!u||(l("Msg extraHref/extraText","Msg footer"),m=function(){return c.createElement(ce,null,c.createElement(pe,null,c.createElement(he,{href:o},u)))}),c.createElement("div",w({className:d},h),c.createElement("div",{className:"weui-msg__icon-area"},c.createElement(U,{value:n,size:"large"})),c.createElement("div",{className:"weui-msg__text-area"},!!r&&c.createElement("h2",{className:"weui-msg__title"},r),!!i&&c.createElement("p",{className:"weui-msg__desc"},i),t),c.createElement("div",{className:"weui-msg__opr-area"},c.createElement(x,null,this._renderButtons())),c.createElement("div",{className:"weui-msg__extra-area"},m()))}}]),t}(e.Component);de.propTypes={type:v.string,buttons:v.array,title:v.string,description:v.string,extraHref:v.string,extraText:v.string,footer:v.any},de.defaultProps={type:"success",buttons:[]};var me=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-article":!0},t,t));return c.createElement("article",w({className:r},n),a)}}]),t}(c.Component);me.propTypes={},me.defaultProps={};var fe=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-grid__icon":!0},a);return c.createElement("div",w({className:r},n),t)}}]),t}(c.Component),ve=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-grid__label":!0},a);return c.createElement("p",w({className:r},n),t)}}]),t}(c.Component),ge=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.icon,n=e.label,r=e.className,i=e.component,o=E(e,["children","icon","label","className","component"]),l=s({"weui-grid":!0},r),u=i||"a";return c.createElement(u,w({className:l},o),!!a&&c.createElement(fe,null,a),t,!!n&&c.createElement(ve,null,n))}}]),t}(c.Component);ge.propTypes={label:v.string,icon:v.any,component:v.func},ge.defaultProps={label:"",icon:!1};var ye=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"renderData",value:function(e){return e.map(function(e,t){return c.createElement(ge,w({key:t,
icon:e.icon,label:e.label},e))})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.data,n=e.className,r=E(e,["children","data","className"]),i=s({"weui-grids":!0},n);return c.createElement("div",w({className:i},r),a.length>0?this.renderData(a):t)}}]),t}(e.Component);ye.propTypes={data:v.array},ye.defaultProps={data:[]};var _e=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.access,r=E(e,["children","className","access"]);n&&l("panel access","cell access","https://github.com/weui/weui/wiki/%E5%9C%A81.0.0%E5%9C%A8%E4%BB%A3%E7%A0%81%E5%B1%82%E9%9D%A2%E4%B8%8A%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E6%94%B9%E5%8F%98#panel");var i=s(b({"weui-panel":!0},a,a));return c.createElement("div",w({className:i},r),t)}}]),t}(c.Component);_e.propTypes={access:v.bool},_e.defaultProps={access:!1};var be=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-panel__hd":!0},t,t));return c.createElement("div",w({className:r},n),a)}}]),t}(c.Component),we=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=E(e,["className","children"]),r=s(b({"weui-panel__bd":!0},t,t));return c.createElement("div",w({className:r},n),a)}}]),t}(c.Component),Ne=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=E(e,["className","children"]),r=this.props.href?"a":"div",i=s(b({"weui-panel__ft":!0},t,t));return c.createElement(r,w({className:i},n),a)}}]),t}(c.Component),Ee=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.type,n=e.className,r=E(e,["children","type","className"]),i=this.props.href?"a":"div",o=s({"weui-media-box":!0,"weui-media-box_appmsg":"appmsg"===a,"weui-media-box_text":"text"===a,"weui-media-box_small-appmsg":"small_appmsg"===a},n);return c.createElement(i,w({className:o},r),t)}}]),t}(c.Component);Ee.propTypes={type:v.string},Ee.defaultProps={type:"text"};var Ce=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-media-box__hd":!0},a),i=c.Children.map(t,function(e){return"img"!==e.type||e.props.className?e:c.cloneElement(e,{className:"weui-media-box__thumb"})});return c.createElement("div",w({className:r},n),i)}}]),t}(c.Component),ke=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-media-box__bd":!0},a);return c.createElement("div",w({className:r},n),t)}}]),t}(c.Component),Te=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-media-box__title":!0},a);return c.createElement("h4",w({className:r},n),t)}}]),t}(c.Component),xe=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-media-box__desc":!0},a);return c.createElement("p",w({className:r},n),t)}}]),t}(c.Component),Oe=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.extra,n=e.className,r=E(e,["children","extra","className"]),i=s({"weui-media-box__info__meta":!0,"weui-media-box__info__meta_extra":a},n);return c.createElement("li",w({className:i},r),t)}}]),t}(c.Component);Oe.propTypes={extra:v.bool},Oe.defaultProps={extra:!1};var Pe=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"renderData",value:function(e){return e.map(function(e,t){return c.createElement(Oe,{key:t,extra:e.extra},e.label)})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.data,n=e.className,r=E(e,["children","data","className"]),i=s({"weui-media-box__info":!0},n);return c.createElement("ul",w({className:i},r),a.length>0?this.renderData(a):t)}}]),t}(c.Component);Pe.propTypes={data:v.array},Pe.defaultProps={data:[]};var Se=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-tab__panel":!0},a);return c.createElement("div",w({className:r},n),t)}}]),t}(c.Component),Ie=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.active,r=E(e,["children","className","active"]),i=s({"weui-tab__bd-item":!0},a);return c.createElement("div",w({className:i,style:{display:n?"block":"none"}},r),t)}}]),t}(c.Component);Ie.propTypes={active:v.bool},Ie.defaultProps={active:!1};var je=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-navbar":!0},a);return c.createElement("div",w({className:r},n),t)}}]),t}(c.Component),Me=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.active,r=e.label,i=E(e,["children","className","active","label"]),o=s({"weui-navbar__item":!0,"weui-bar__item_on":n},a);return c.createElement("div",w({className:o},i),r||t)}}]),t}(c.Component);Me.propTypes={active:v.bool,label:v.string},Me.defaultProps={active:!1};var Be=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-tabbar":!0},a);return c.createElement("div",w({className:r},n),t)}}]),t}(c.Component),Ae=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-tabbar__icon":!0},a);return c.createElement("div",w({className:r},n),t)}}]),t}(c.Component),He=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=E(e,["children","className"]),r=s({"weui-tabbar__label":!0},a);return c.createElement("p",w({className:r},n),t)}}]),t}(c.Component),De=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.active,r=e.icon,i=e.label,o=E(e,["children","className","active","icon","label"]),l=s({"weui-tabbar__item":!0,"weui-bar__item_on":n},a);return r||i?c.createElement("div",w({className:l},o),!!r&&c.createElement(Ae,null,r),!!i&&c.createElement(He,null,i)):c.createElement("div",w({className:l},o),t)}}]),t}(c.Component);De.propTypes={active:v.bool,icon:v.any,label:v.string},De.defaultProps={active:!1,icon:!1,label:""};var Re=function(e){function t(){var e,a,n,r;y(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return a=n=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={index:n.props.defaultIndex},r=a,C(n,r)}return N(t,e),_(t,[{key:"handleHeaderClick",value:function(e){this.setState({index:e}),this.props.onChange&&this.props.onChange(e)}},{key:"parseChild",value:function(e){var t=[],a=[];return c.Children.map(e,function(e){if(e){var n=e.props,r=n.children;n.type,E(n,["children","type"]);e.type===De||e.type===Me?(t.push(e),r&&a.push(c.createElement(Ie,{children:r}))):e.type===Ie&&a.push(e)}}),{ChildHeaders:t,ChildContents:a}}},{key:"renderBar",value:function(e,t,a){var n=this,r=this.parseChild(t),i=r.ChildHeaders,o=r.ChildContents,s=i.map(function(e,t){return c.cloneElement(e,{key:t,active:n.state.index===t,onClick:n.handleHeaderClick.bind(n,t,e)})}),l=o.map(function(e,t){return c.cloneElement(e,{key:t,active:n.state.index===t,tabIndex:t})});return"tabbar"===e?c.createElement("div",{className:a},c.createElement(Se,null,l),c.createElement(Be,null,s)):"navbar"===e&&c.createElement("div",{className:a},c.createElement(je,null,s),c.createElement(Se,null,l))}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.type,r=E(e,["children","className","type"]),i=Object.assign({},r);delete i.defaultIndex;var o=s({"weui-tab":!0},a);return"normal"===n?c.createElement("div",w({className:o},i),t):this.renderBar(n,t,o)}}]),t}(c.Component);Re.propTypes={type:v.string,defaultIndex:v.number,onChange:v.func},Re.defaultProps={type:"normal",defaultIndex:0};var Le=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={focus:!!a.props.defaultValue,clearing:!1,text:a.props.defaultValue?a.props.defaultValue:""},""!==a.props.defaultValue&&a.props.onChange&&a.props.onChange(a.state.text),a}return N(t,e),_(t,[{key:"changeHandle",value:function(e){var t=e.target.value;this.props.onChange&&this.props.onChange(t,e),this.setState({text:t})}},{key:"cancelHandle",value:function(e){this.setState({focus:!1,text:""}),this.props.onCancel&&this.props.onCancel(e),this.props.onChange&&this.props.onChange("",e)}},{key:"clearHandle",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({text:"",clearing:!0}),this.props.onClear&&this.props.onClear(e),this.refs.searchInput.focus(),this.props.onChange&&this.props.onChange("",e)}},{key:"blurHandle",value:function(e){""===this.state.text&&this.setState({focus:!1})}},{key:"submitHandle",value:function(e){this.props.onSubmit&&(e.preventDefault(),e.stopPropagation(),this.props.onSubmit(this.state.text,e))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.children,t.defaultValue,t.autocomplete),n=t.placeholder,r=t.className,i=t.searchName,o=s({"weui-search-bar":!0,"weui-search-bar_focusing":this.state.focus},r);return c.createElement("div",{className:o},c.createElement("form",{className:"weui-search-bar__form",onSubmit:this.submitHandle.bind(this)},c.createElement("div",{className:"weui-search-bar__box"},c.createElement(U,{value:"search"}),c.createElement("input",{ref:"searchInput",type:"search",name:i,className:"weui-search-bar__input",placeholder:n,onFocus:function(t){return e.setState({focus:!0})},onBlur:this.blurHandle.bind(this),onChange:this.changeHandle.bind(this),value:this.state.text,autoComplete:a}),c.createElement("a",{className:"weui-icon-clear",onClick:this.clearHandle.bind(this)})),c.createElement("label",{className:"weui-search-bar__label",onClick:function(){var t=e.refs.searchInput;t&&t.focus()},style:{display:this.state.text?"none":null}},c.createElement(U,{value:"search"}),c.createElement("span",null,n))),c.createElement("a",{className:"weui-search-bar__cancel-btn",onClick:this.cancelHandle.bind(this)},this.props.lang.cancel))}}]),t}(c.Component);Le.propTypes={defaultValue:v.string,placeholder:v.string,searchName:v.string,onChange:v.func,onClear:v.func,onCancel:v.func,onSubmit:v.func,lang:v.object},Le.defaultProps={placeholder:"搜索",searchName:"q",onChange:void 0,onClear:void 0,onCancel:void 0,onSubmit:void 0,lang:{cancel:"取消"},autocomplete:"off"};var Ve=function(e){return c.createElement("div",w({className:"weui-flex"},e),e.children)},Fe=function(e){var t=e.Component,a=e.children,n=E(e,["Component","children"]);return c.createElement(t,w({className:"weui-flex__item"},n),a)};Fe.propTypes={Component:v.node},Fe.defaultProps={Component:"div"};var ze=function(e){var t,a=e.className,n=e.type,r=e.children,i=e.show,o=E(e,["className","type","children","show"]),l=s((t={"weui-toptips":!0},b(t,"weui-toptips_"+n,!0),b(t,a,a),t));return c.createElement("div",w({className:l},o,{style:{display:i?"block":"none"}}),r)};ze.propTypes={show:v.bool,type:v.string},ze.defaultProps={show:!1,type:"default"};var We=function(e){function a(e){y(this,a);var t=C(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={containerWidth:0,containerHeight:0,currentIndex:t.props.defaultIndex,touching:!1,og:0,ogTranslate:0,touchId:void 0,translate:0,animating:!1},t.handleTouchStart=t.handleTouchStart.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.handleTouchEnd=t.handleTouchEnd.bind(t),t}return N(a,e),_(a,[{key:"componentDidMount",value:function(){var e=t.findDOMNode(this.refs.container);this.setState({wrapperWidth:"horizontal"===this.props.direction?e.offsetWidth*this.props.children.length:e.offsetWidth,wrapperHeight:"vertical"===this.props.direction?e.offsetHeight*this.props.children.length:e.offsetHeight,containerWidth:e.offsetWidth,containerHeight:e.offsetHeight,translate:this.props.defaultIndex<=this.props.children.length?"horizontal"===this.props.direction?e.offsetWidth*-this.props.defaultIndex:e.offsetHeight*-this.props.defaultIndex:0})}},{key:"handleTouchStart",value:function(e){if(!(this.state.touching||this.props.children.length<=1)){var t=0;t="horizontal"===this.props.direction?e.targetTouches[0].pageX-this.state.translate:e.targetTouches[0].pageY-this.state.translate,this.setState({touching:!0,ogTranslate:this.state.translate,touchId:e.targetTouches[0].identifier,og:t,animating:!1})}}},{key:"handleTouchMove",value:function(e){if(this.state.touching&&!(this.props.children.length<=1)&&e.targetTouches[0].identifier===this.state.touchId){e.preventDefault();var t=this.state.translate;if("horizontal"===this.props.direction){t=e.targetTouches[0].pageX-this.state.og}else{t=e.targetTouches[0].pageY-this.state.og}this.setState({translate:t})}}},{key:"handleTouchEnd",value:function(e){var t=this;if(this.state.touching&&!(this.props.children.length<=1)){var a=this.state.translate,n="horizontal"===this.props.direction?this.state.wrapperWidth-this.state.containerWidth:this.state.wrapperHeight-this.state.containerHeight,r=this.state.currentIndex,i=r;if(a>0)a=0;else if(a<-n)a=-n;else{var o=Math.abs(a-this.state.ogTranslate),s=a-this.state.ogTranslate<0;o>=this.props.threshold?s?(a=this.state.ogTranslate-("horizontal"===this.props.direction?this.state.containerWidth:this.state.containerHeight),r+=1):(a=this.state.ogTranslate+("horizontal"===this.props.direction?this.state.containerWidth:this.state.containerHeight),r-=1):a=this.state.ogTranslate}this.setState({touching:!1,og:0,touchId:void 0,ogTranslate:0,animating:!0,translate:a,currentIndex:r},function(){return setTimeout(function(){return t.setState({animating:!1})},t.props.speed)}),this.props.onChange&&this.props.onChange(i,r)}}},{key:"renderPagination",value:function(){var e=this;return this.props.children.map(function(t,a){var n=s("react-weui-swiper__pagination-bullet",{active:a===e.state.currentIndex});return c.createElement("span",{className:n,key:a})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.children,r=t.height,i=t.width,o=(t.defaultIndex,t.direction),l=t.speed,u=t.indicators,p=(E(t,["className","children","height","width","defaultIndex","direction","speed","indicators"]),s("react-weui-swiper__container",a,{"react-weui-swiper__container-horizontal":"horizontal"===o,"react-weui-swiper__container-vertical":"vertical"===o})),h={height:r?r+"px":"100%",width:i?i+"px":"100%"},d={width:this.state.wrapperWidth,height:this.state.wrapperHeight,transition:this.state.animating?"transform ."+l/100+"s":"none",transform:"translate("+("horizontal"===o?this.state.translate:0)+"px, "+("vertical"===o?this.state.translate:0)+"px)"};return c.createElement("div",{className:p,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,style:h,ref:"container"},c.createElement("div",{className:"react-weui-swiper__wrapper",style:d},n.map(function(t,a){return c.cloneElement(t,{className:s("react-weui-swiper__item",t.className),key:a,style:Object.assign({},t.props.style,{display:"horizontal"===o?"inline-block":"block",verticalAlign:"horizontal"===o?"top":"bottom",width:e.state.containerWidth,height:e.state.containerHeight})})})),!!u&&c.createElement("div",{className:"react-weui-swiper__pagination"},this.renderPagination()))}}]),a}(e.Component);We.propTypes={height:v.number,width:v.number,threshold:v.number,speed:v.number,defaultIndex:v.number,direction:v.oneOf(["vertical","horizontal"]),indicators:v.bool,onChange:v.func},We.defaultProps={height:null,width:null,defaultIndex:0,direction:"horizontal",threshold:50,speed:300,indicators:!0};var Ge=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={currentIndex:a.props.defaultIndex},a}return N(t,e),_(t,[{key:"handleClick",value:function(e){var t=this;return function(a){e&&e(a,t.state.currentIndex)}}},{key:"renderImages",value:function(e){var t=this;return c.createElement("div",{className:"weui-gallery__img"},c.createElement(We,{indicators:!1,defaultIndex:this.props.defaultIndex,onChange:function(e,a){return t.setState({currentIndex:a})}},e.map(function(e,t){var a={backgroundImage:"url("+e+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center center"};return c.createElement("span",{key:t,style:a})})))}},{key:"renderOprs",value:function(){var e=this;return Array.isArray(this.props.children)?this.props.children.map(function(t,a){return c.cloneElement(t,{key:a,onClick:e.handleClick(t.props.onClick)})}):!!this.props.children&&c.cloneElement(this.props.children,{onClick:this.handleClick(this.props.children.props.onClick)})}},{key:"render",value:function(){var e=this.props,t=(e.children,e.className),a=e.show,n=e.src,r=(e.defaultIndex,E(e,["children","className","show","src","defaultIndex"])),i=s(b({"weui-gallery":!0},t,t));return!!a&&c.createElement("div",w({className:i,style:{display:a?"block":"none"}},r),Array.isArray(n)?this.renderImages(n):c.createElement("span",{className:"weui-gallery__img",style:{backgroundImage:"url("+n+")"}}),c.createElement("div",{className:"weui-gallery__opr"},this.renderOprs()))}}]),t}(e.Component);Ge.propTypes={show:v.bool,src:v.oneOfType([v.string,v.array]),defaultIndex:v.number},Ge.defaultProps={show:void 0,src:"",defaultIndex:0};var Ye=function(e){var t=e.className,a=E(e,["className"]),n=s(b({"weui-gallery__del":!0},t,t));return c.createElement("a",w({className:n},a),c.createElement(U,{value:"delete",className:"weui-icon_gallery-delete"}))},$e=function(e){var t=e.className,a=e.children,n=e.loading,r=e.showLine,i=e.showDot,o=E(e,["className","children","loading","showLine","showDot"]),l=s(b({"weui-loadmore":!0,"weui-loadmore_line":r,"weui-loadmore_dot":i},t,t));return c.createElement("div",w({className:l},o),!!n&&c.createElement(U,{value:"loading"}),c.createElement("span",{className:"weui-loadmore__tips"},a))};$e.propTypes={loading:v.bool,showLine:v.bool,showDot:v.bool},$e.defaultProps={loading:!1,showLine:!1,showDot:!1};var qe=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={touching:!1,ogY:0,ogTranslate:0,touchId:void 0,translate:0,totalHeight:0,selected:0,animating:a.props.animation},a.handleTouchStart=a.handleTouchStart.bind(a),a.handleTouchMove=a.handleTouchMove.bind(a),a.handleTouchEnd=a.handleTouchEnd.bind(a),a.updateSelected=a.updateSelected.bind(a),a}return N(t,e),_(t,[{key:"componentDidMount",value:function(){this.adjustPosition(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.adjustPosition(e)}},{key:"adjustPosition",value:function(e){var t=this,a=e.items,n=e.itemHeight,r=e.indicatorTop,i=e.defaultIndex,o=a.length*n,s=o<=r?r:0;if(i>-1)if(0===s){var l=Math.floor(r/n);if(i>l){var c=i-l;s-=c*n}else i===l?s=0:s+=Math.abs(l-i)*n}else s-=n*i;this.setState({selected:i,ogTranslate:s,totalHeight:o,translate:s},function(){return i>-1?t.updateSelected(!1):t.updateSelected()})}},{key:"updateSelected",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.props,n=a.items,r=a.itemHeight,i=a.indicatorTop,o=a.indicatorHeight,s=a.onChange,l=a.groupIndex,c=0;n.forEach(function(t,a){!t.disabled&&e.state.translate+r*a>=i&&e.state.translate+r*a+r<=i+o&&(c=a)}),s&&t&&s(n[c],c,l)}},{key:"handleTouchStart",value:function(e){this.state.touching||this.props.items.length<=1||this.setState({touching:!0,ogTranslate:this.state.translate,touchId:e.targetTouches[0].identifier,ogY:0===this.state.translate?e.targetTouches[0].pageY:e.targetTouches[0].pageY-this.state.translate,animating:!1})}},{key:"handleTouchMove",value:function(e){if(this.state.touching&&!(this.props.items.length<=1)&&e.targetTouches[0].identifier===this.state.touchId){e.preventDefault();var t=e.targetTouches[0].pageY,a=t-this.state.ogY;this.setState({translate:a})}}},{key:"handleTouchEnd",value:function(e){var t=this;if(this.state.touching&&!(this.props.items.length<=1)){var a=this.props,n=a.indicatorTop,r=a.indicatorHeight,i=a.itemHeight,o=this.state.translate;if(Math.abs(o-this.state.ogTranslate)<.51*i)o=this.state.ogTranslate;else if(o>n)o=n;else if(o+this.state.totalHeight<n+r)o=n+r-this.state.totalHeight;else{var s=0,l=0,c=(o-this.state.ogTranslate)/i;Math.abs(c)<1?s=c>0?1:-1:(l=Math.abs(c%1*100)>50?1:0,s=c>0?Math.floor(c)+l:Math.ceil(c)-l),o=this.state.ogTranslate+s*i}this.setState({touching:!1,ogY:0,touchId:void 0,ogTranslate:0,animating:!0,translate:o},function(){return t.updateSelected()})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.items,n=t.className,r=(t.height,t.itemHeight,t.indicatorTop,t.indicatorHeight,t.onChange,t.aniamtion,t.groupIndex,t.defaultIndex,t.mapKeys,E(t,["items","className","height","itemHeight","indicatorTop","indicatorHeight","onChange","aniamtion","groupIndex","defaultIndex","mapKeys"])),i=s("weui-picker__group",n),o={transform:"translate(0, "+this.state.translate+"px)",transition:this.state.animating?"transform .3s":"none"};return c.createElement("div",w({className:i},r,{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd}),c.createElement("div",{className:"weui-picker__mask"}),c.createElement("div",{className:"weui-picker__indicator"}),c.createElement("div",{className:"weui-picker__content",style:o,ref:"content"},a.map(function(t,a){var n=t[e.props.mapKeys.label],r=s("weui-picker__item",{"weui-picker__item_disabled":t.disabled});return c.createElement("div",{key:a,className:r},n)})))}}]),t}(e.Component);qe.propTypes={height:v.number,itemHeight:v.number,indicatorTop:v.number,indicatorHeight:v.number,onChange:v.func,aniamtion:v.bool,groupIndex:v.number,defaultIndex:v.number},qe.defaultProps={height:238,itemHeight:34,indicatorTop:102,indicatorHeight:34,aniamtion:!0,groupIndex:-1,defaultIndex:-1,mapKeys:{label:"label"}};var Ue=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={selected:a.props.defaultSelect?a.props.defaultSelect:Array(a.props.groups.length).fill(-1),actions:a.props.actions.length>0?a.props.actions:[{label:a.props.lang.leftBtn,onClick:function(e){return a.handleClose(function(){a.props.onCancel&&a.props.onCancel(e)})}},{label:a.props.lang.rightBtn,onClick:function(e){return a.handleChanges()}}],closing:!1},a.handleChanges=a.handleChanges.bind(a),a.handleChange=a.handleChange.bind(a),a.handleClose=a.handleClose.bind(a),a}return N(t,e),_(t,[{key:"handleChanges",value:function(){var e=this;this.handleClose(function(){e.props.onChange&&e.props.onChange(e.state.selected,e)})}},{key:"handleChange",value:function(e,t,a){var n=this,r=this.state.selected;r[a]=t,this.setState({selected:r},function(){n.props.onGroupChange&&n.props.onGroupChange(e,t,a,n.state.selected,n)})}},{key:"handleClose",value:function(e){var t=this;this.setState({closing:!0},function(){return setTimeout(function(){t.setState({closing:!1}),e()},300)})}},{key:"renderActions",value:function(){var e=this.state.actions.map(function(e,t){var a=e.label,n=E(e,["label"]);return c.createElement("a",w({},n,{key:t,className:"weui-picker__action"})," ",a)});return c.createElement("div",{className:"weui-picker__hd"},e)}},{key:"renderGroups",value:function(){var e=this;return this.props.groups.map(function(t,a){return c.createElement(qe,w({key:a},t,{onChange:e.handleChange,groupIndex:a,defaultIndex:e.state.selected[a]}))})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.show,r=(t.actions,t.groups,t.defaultSelect,t.onGroupChange,t.onChange,t.onCancel,E(t,["className","show","actions","groups","defaultSelect","onGroupChange","onChange","onCancel"])),i=s("weui-picker",{"weui-animate-slide-up":n&&!this.state.closing,"weui-animate-slide-down":this.state.closing},a),o=s({"weui-animate-fade-in":n&&!this.state.closing,"weui-animate-fade-out":this.state.closing});return!!this.props.show&&c.createElement("div",null,c.createElement(R,{className:o,onClick:function(t){return e.handleClose(function(){e.props.onCancel&&e.props.onCancel(t)})}}),c.createElement("div",w({className:i},r),this.renderActions(),c.createElement("div",{className:"weui-picker__bd"},this.renderGroups())))}}]),t}(e.Component);Ue.propTypes={actions:v.array,groups:v.array,defaultSelect:v.array,onGroupChange:v.func,onChange:v.func,onCancel:v.func,show:v.bool,lang:v.object},Ue.defaultProps={actions:[],groups:[],show:!1,lang:{leftBtn:"Cancel",rightBtn:"Ok"}};var Xe=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=a.props,r=n.data,i=n.selected,o=n.dataMap,s=a.parseData(r,o.items,i),l=s.groups,c=s.newselected;return a.state={groups:l,selected:c,picker_show:!1,text:""},a.updateGroup=a.updateGroup.bind(a),a.parseData=a.parseData.bind(a),a.handleChange=a.handleChange.bind(a),a}return N(t,e),_(t,[{key:"parseData",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=0;if(Array.isArray(a)&&a.length>0){var o=a.slice(0);i=o.shift(),a=o}void 0===e[i]&&(i=0),r.push(i);var s=e[i],l=JSON.parse(JSON.stringify(e));return l.forEach(function(e){return delete e[t]}),n.push({items:l,mapKeys:{label:this.props.dataMap.id}}),void 0!==s[t]&&Array.isArray(s[t])?this.parseData(s[t],t,a,n,r):{groups:n,newselected:r}}},{key:"updateDataBySelected",value:function(e,t){var a=this,n=this.props,r=n.data,i=n.dataMap,o=this.parseData(r,i.items,e),s=o.groups,l=o.newselected,c="";try{s.forEach(function(t,n){c+=t.items[e[n]][a.props.dataMap.id]+" "})}catch(e){c=this.state.text}this.setState({groups:s,text:c,selected:l},function(){return t()})}},{key:"updateGroup",value:function(e,t,a,n,r){var i=this;this.updateDataBySelected(n,function(){r.setState({selected:i.state.selected})})}},{key:"handleChange",value:function(e){var t=this;e===this.state.selected&&this.updateDataBySelected(e,function(){t.props.onChange&&t.props.onChange(t.state.text)}),this.props.onChange&&this.props.onChange(this.state.text)}},{key:"render",value:function(){return c.createElement(Ue,{show:this.props.show,onGroupChange:this.updateGroup,onChange:this.handleChange,defaultSelect:this.state.selected,groups:this.state.groups,onCancel:this.props.onCancel,lang:this.props.lang})}}]),t}(c.Component);Xe.propTypes={data:v.array.isRequired,dataMap:v.object,selected:v.array,show:v.bool,lang:v.object},Xe.defaultProps={data:[],dataMap:{id:"name",items:"sub"},selected:[],show:!1,lang:{leftBtn:"取消",rightBtn:"确定"}};var Ke={default:{},header:{position:"absolute",top:"-.4em",right:"-.4em"},body:{marginLeft:"5px"},footer:{marginLeft:"5px",marginRight:"5px"}},Je=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.dot,r=e.style,i=e.preset,o=E(e,["children","className","dot","style","preset"]),l=s("weui-badge",{"weui-badge_dot":n},a),u=Object.assign({},Ke[i],r);return c.createElement("span",w({className:l,style:u},o),t)}}]),t}(e.Component);Je.propTypes={dot:v.bool,preset:v.string},Je.defaultProps={dot:!1,preset:"default"};var Qe=function(e){function t(){return y(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,e),_(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=e.show,r=e.onRequestClose,i=e.enableMask,o=E(e,["className","children","show","onRequestClose","enableMask"]),l=s("weui-popup",{"weui-popup_toggle":n},t);return c.createElement("div",null,c.createElement(R,{transparent:i,style:{display:n?"block":"none"},onClick:r}),c.createElement("div",w({className:l},o),a))}}]),t}(e.Component);Qe.propTypes={show:v.bool,enableMask:v.bool},Qe.defaultProps={show:!1,enableMask:!1};var Ze=function(e){var t=e.left,a=e.right,n=e.leftOnClick,r=e.rightOnClick,i=e.className,o=s("weui-popup__hd",i);return c.createElement("div",{className:o},c.createElement("a",{className:"weui-popup__action",onClick:n},t),c.createElement("a",{className:"weui-popup__action",onClick:r},a))};Ze.propTypes={left:v.string,right:v.string,leftOnClick:v.func,rightOnClick:v.func},Ze.defaultProps={left:"",right:""};var et=function(e){function a(e){y(this,a);var t=C(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={pullPercent:0,touching:!1,ogY:0,touchId:void 0,animating:!1,loading:!1,initScrollTop:0},t.handleTouchStart=t.handleTouchStart.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.handleTouchEnd=t.handleTouchEnd.bind(t),t.resolveRefresh=t.resolveRefresh.bind(t),t}return N(a,e),_(a,[{key:"resolveRefresh",value:function(){var e=this;this.setState({loading:!1,animating:!0,pullPercent:0},function(){setTimeout(function(){return e.setState({animating:!1})},500)})}},{key:"handleTouchStart",value:function(e){if(!(this.state.touching||this.state.loading||this.props.disable)){var a=t.findDOMNode(this.refs.content);this.setState({touching:!0,touchId:e.targetTouches[0].identifier,ogY:0===this.state.pullPercent?e.targetTouches[0].pageY:e.targetTouches[0].pageY-this.state.pullPercent,animating:!1,initScrollTop:a.scrollTop})}}},{key:"handleTouchMove",value:function(e){if(this.state.touching&&!this.state.loading&&!this.props.disable&&e.targetTouches[0].identifier===this.state.touchId){var a=e.targetTouches[0].pageY,n=a-this.state.ogY;if(!(n<0)){t.findDOMNode(this.refs.content).scrollTop>0||(e.preventDefault(),n=n-this.state.initScrollTop>100?100:n-this.state.initScrollTop,this.setState({pullPercent:n}))}}}},{key:"handleTouchEnd",value:function(e){var t=this;if(this.state.touching&&!this.state.loading&&!this.props.disable){var a=this.state.pullPercent,n=!1;100===a?n=!0:a=0,this.setState({
touching:!1,ogY:0,touchId:void 0,initScrollTop:0,animating:n,pullPercent:a,loading:n},function(){n&&t.props.onRefresh(t.resolveRefresh)})}}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.children,n=e.height,r=e.loaderHeight,i=e.loaderDefaultIcon,o=e.loaderLoadingIcon,l=(e.onRefresh,e.disable,E(e,["className","children","height","loaderHeight","loaderDefaultIcon","loaderLoadingIcon","onRefresh","disable"])),u=s("react-weui-ptr",t),p={height:n},h={height:r,marginTop:-r+this.state.pullPercent/(100/r)+"px",transition:this.state.animating?"all .5s":"none"};return c.createElement("div",w({className:u,style:p},l),c.createElement("div",{className:"react-weui-ptr__loader",style:h},this.state.loading?o:i(this.state.pullPercent)),c.createElement("div",{className:"react-weui-ptr__content",ref:"content",onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},a))}}]),a}(e.Component);et.propTypes={height:v.string,loaderHeight:v.number,loaderDefaultIcon:v.func,loaderLoadingIcon:v.any,onRefresh:v.func,disable:v.bool},et.defaultProps={height:"100%",loaderHeight:100,loaderDefaultIcon:function(e){var t={transform:"rotate(-"+(100!==e?1.8*e:0)+"deg)",color:100!==e?"#5f5f5f":"#1AAD19"};return c.createElement("div",{style:{flex:1,padding:"5px"}},c.createElement(U,{value:100!==e?"download":"success",style:t}))},loaderLoadingIcon:c.createElement($e,{loading:!0}),onRefresh:function(e,t){return setTimeout(function(){return e()},1e3)},disable:!1};var tt=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!1,finish:!1,scrollTimer:null},a.scrollHandle=a.scrollHandle.bind(a),a.resolveLoading=a.resolveLoading.bind(a),a.finish=a.finish.bind(a),a}return N(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){e.resetStatus&&this.reset()}},{key:"reset",value:function(){this.setState({loading:!1,finish:!1})}},{key:"finish",value:function(){this.setState({loading:!1,finish:!0})}},{key:"resolveLoading",value:function(){this.setState({loading:!1,finish:!1})}},{key:"scrollHandle",value:function(e){var t=this;if(this.props.onScroll&&this.props.onScroll(e),!(this.state.loading||this.state.finish||this.props.disable||0===e.target.scrollTop)){clearTimeout(this.state.scrollTimer),this.setState({scrollTimer:setTimeout(function(){t.props.onScrollEnd&&t.props.onScrollEnd()},150)});var a=e.target;Math.floor((a.scrollTop+a.clientHeight)/a.scrollHeight*100)>this.props.triggerPercent&&(this.setState({loading:!0}),this.props.onLoadMore(this.resolveLoading,this.finish))}}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.height,r=(e.triggerPercent,e.disable),i=e.loaderLoadingIcon,o=e.loaderDefaultIcon,l=(e.onScrollEnd,e.onScroll,e.onLoadMore,E(e,["children","className","height","triggerPercent","disable","loaderLoadingIcon","loaderDefaultIcon","onScrollEnd","onScroll","onLoadMore"])),u=s("react-weui-infiniteloader",a),p={height:n},h={overflow:r?"hidden":"scroll"},d={display:this.state.loading||this.state.finish?"block":"none"};return c.createElement("div",w({className:u,style:p,onScroll:this.scrollHandle},l),c.createElement("div",{className:"react-weui-infiniteloader__content",style:h,ref:"container"},t,c.createElement("div",{style:d},this.state.finish?o:!!this.state.loading&&i)))}}]),t}(e.Component);tt.propTypes={height:v.string,loaderDefaultIcon:v.object,loaderLoadingIcon:v.object,triggerPercent:v.number,onScroll:v.func,onScrollEnd:v.func,onLoadMore:v.func,disable:v.bool,resetStatus:v.bool},tt.defaultProps={height:"100vh",triggerPercent:75,loaderLoadingIcon:c.createElement($e,{loading:!0}," Loading... "),loaderDefaultIcon:c.createElement($e,{showLine:!0}," No Data"),disable:!1};var at=function(e){function t(e){y(this,t);var a=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={ptrRefreshing:!1,contentScrollOnTop:!0},a.handleRefresh=a.handleRefresh.bind(a),a}return N(t,e),_(t,[{key:"componentWillReceiveProps",value:function(e){e.infiniteLoader?this.setState({contentScrollOnTop:!0}):this.setState({contentScrollOnTop:!1})}},{key:"componentWillUnmount",value:function(){}},{key:"handleRefresh",value:function(e){var t=this;this.setState({ptrRefreshing:!0},function(){t.props.ptrOnRefresh(function(){t.setState({ptrRefreshing:!1}),e()})})}},{key:"handleContentScroll",value:function(e){e.target.scrollTop<=0?this.setState({contentScrollOnTop:!0}):this.setState({contentScrollOnTop:!1})}},{key:"renderContent",value:function(e,t,a){var n=this;if(!a&&!t)return e;var r=c.createElement(tt,{height:"100%",disable:this.state.ptrRefreshing,onScroll:function(e){return n.handleContentScroll(e)},onLoadMore:this.props.onLoadMore},e);return!t&&a?r:t&&!a?c.createElement(et,{onRefresh:this.handleRefresh,disable:!this.state.contentScrollOnTop},e):c.createElement(et,{onRefresh:this.handleRefresh,disable:!this.state.contentScrollOnTop},r)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.style,n=e.className,r=e.infiniteLoader,i=e.transition,o=e.ptr,l=s("weui-page",n);return c.createElement("div",{className:l,style:Object.assign({},{animationName:i?"pageInRight":""},a)},this.renderContent(t,o,r))}}]),t}(e.Component);return at.propTypes={ptr:v.bool,ptrOnRefresh:v.func,infiniteLoader:v.bool,onLoadMore:v.func,transition:v.bool},at.defaultProps={ptr:!0,ptrOnRefresh:function(e){setTimeout(function(){e()},1e3)},infiniteLoader:!0,onLoadMore:function(e,t){setTimeout(function(){t()},1e3)},transition:!0},{version:"1.2.2",Button:T,ButtonArea:x,Cells:I,CellsTitle:M,CellsTips:B,Cell:j,CellHeader:A,CellBody:H,CellFooter:D,Mask:R,Form:L,FormCell:V,Radio:G,Checkbox:Y,Input:z,TextArea:F,Switch:W,Select:$,Uploader:X,Label:re,Toast:ie,Progress:oe,ActionSheet:se,Dialog:le,Msg:de,Article:me,Icon:U,Grids:ye,Grid:ge,GridIcon:fe,GridLabel:ve,Panel:_e,PanelHeader:be,PanelBody:we,PanelFooter:Ne,MediaBox:Ee,MediaBoxHeader:Ce,MediaBoxBody:ke,MediaBoxTitle:Te,MediaBoxDescription:xe,MediaBoxInfo:Pe,MediaBoxInfoMeta:Oe,NavBar:je,NavBarItem:Me,Tab:Re,TabBody:Se,TabBodyItem:Ie,TabBar:Be,TabBarIcon:Ae,TabBarItem:De,TabBarLabel:He,SearchBar:Le,Flex:Ve,FlexItem:Fe,VCode:K,Agreement:J,Toptips:ze,Gallery:Ge,GalleryDelete:Ye,Footer:ce,FooterText:ue,FooterLinks:pe,FooterLink:he,LoadMore:$e,Preview:Q,PreviewHeader:Z,PreviewBody:ee,PreviewFooter:te,PreviewItem:ae,PreviewButton:O,Picker:Ue,PickerGroup:qe,CityPicker:Xe,Slider:ne,Badge:Je,Popup:Qe,PopupHeader:Ze,PullToRefresh:et,InfiniteLoader:tt,Swiper:We,Page:at}}(React,ReactDOM);
